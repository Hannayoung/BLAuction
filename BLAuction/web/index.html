<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>BLAuction</title>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

<!-- Custom CSS -->
<link rel="stylesheet" href="css/style.css" type="text/css">

<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<!-- Latest compiled JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<script>
time = new Date().getTime()
console.log(time)
</script>
<body>

<div class="container">
  <div class="row" id="northArea">
	  <div class="col-sm-4" id="furniture"><a href="category.bla?category=5"><img src="img/furniture.jpg"><h2>#생활 #가구</h2></a></div>
	  <div class="col-sm-4" id="clothing"><a href="category.bla?category=1"><img src="img/clothing.jpg"><h2>#의류 #잡화</h2></a></div>
	  <div class="col-sm-4" i="sports"><a href="category.bla?category=3"><img src="img/nike.jpg"><h2>#스포츠 #레저</h2></a></div>
  </div>
  <div class="row" id="centerArea">
  	  <div id="title">
  	  	<a href="main.bla"><img src="img/logo.PNG"></a>
  	  </div>
	  <div class="input-group" id="searchingbar">
	  	<input type="text" class="form-control" placeholder="#">
	  </div>	
  </div>
  <div class="row" id="southArea">
	  <div class="col-sm-4" id="digital"><a href="category.bla?category=4"><img src="img/digital.jpg"><h2>#디지털 #가전</h2></a></div>
	  <div class="col-sm-4" id="beauty"><a href="category.bla?category=2"><img src="img/beauty.jpg"><h2>#뷰티 #미용</h2></a></div>
	  <div class="col-sm-4" id="etc"><a href="category.bla?category=6"><img src="img/etc.jpg"><h2>#기타</h2></a></div>
</div>
</div>

<script src="javascript/web3.js?version=1"></script>
<script>
var auc_ABI = [
	{
		"constant": false,
		"inputs": [
			{
				"name": "_bidder_name",
				"type": "string"
			},
			{
				"name": "bidder_id",
				"type": "uint256"
			},
			{
				"name": "time",
				"type": "uint256"
			}
		],
		"name": "bidding",
		"outputs": [],
		"payable": true,
		"stateMutability": "payable",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "status",
				"type": "bool"
			}
		],
		"name": "set_delivery_status",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [],
		"name": "withdraw",
		"outputs": [],
		"payable": true,
		"stateMutability": "payable",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "fee",
				"type": "uint256"
			}
		],
		"name": "withdraw_for_owner",
		"outputs": [],
		"payable": true,
		"stateMutability": "payable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"name": "_auction_id",
				"type": "uint256"
			},
			{
				"name": "_seller_id",
				"type": "uint256"
			},
			{
				"name": "_auction_type",
				"type": "uint8"
			},
			{
				"name": "_due_date",
				"type": "uint256"
			},
			{
				"name": "_start_price",
				"type": "uint256"
			},
			{
				"name": "_owner",
				"type": "address"
			},
			{
				"name": "_manager",
				"type": "address"
			}
		],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "constructor"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": false,
				"name": "member_id",
				"type": "uint256"
			},
			{
				"indexed": false,
				"name": "auct_id",
				"type": "uint256"
			},
			{
				"indexed": false,
				"name": "price",
				"type": "uint256"
			},
			{
				"indexed": false,
				"name": "time",
				"type": "uint256"
			},
			{
				"indexed": false,
				"name": "_bidder_name",
				"type": "string"
			}
		],
		"name": "biddingEvent",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [],
		"name": "refundEvent",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": false,
				"name": "auction_id",
				"type": "uint256"
			}
		],
		"name": "ownerWithdrawEvent",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [],
		"name": "auctionEndEvent",
		"type": "event"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "getAllData",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			},
			{
				"name": "",
				"type": "uint256"
			},
			{
				"name": "",
				"type": "uint8"
			},
			{
				"name": "",
				"type": "uint256"
			},
			{
				"name": "",
				"type": "uint256"
			},
			{
				"name": "",
				"type": "address"
			},
			{
				"name": "",
				"type": "uint256"
			},
			{
				"components": [
					{
						"name": "bid_id",
						"type": "uint256"
					},
					{
						"name": "bidder_id",
						"type": "uint256"
					},
					{
						"name": "bidder_name",
						"type": "string"
					},
					{
						"name": "price",
						"type": "uint256"
					},
					{
						"name": "time",
						"type": "uint256"
					},
					{
						"name": "bidder_address",
						"type": "address"
					}
				],
				"name": "",
				"type": "tuple[]"
			},
			{
				"name": "",
				"type": "address"
			},
			{
				"name": "",
				"type": "bool"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "index",
				"type": "uint256"
			}
		],
		"name": "getBid",
		"outputs": [
			{
				"name": "",
				"type": "string"
			},
			{
				"name": "",
				"type": "uint256"
			},
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "getBidCount",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "",
				"type": "address"
			}
		],
		"name": "user_balances",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	}
];
</script>
<script>
var man_address = '0xD684987E066dA7BA4B17275b53e7312F389828B3';
var auction = web3.eth.contract(auc_ABI).at(man_address);

auction.bidding.sendTransaction("Abc", 1, 1, {from:web3.eth.accounts[0], value:web3.toWei(2, "finney")},  function(err, res){
    console.log("bidding() : ")
    if(err){
    	alert("error 발생");
    }
    else{
    	alert("성공");
    	console.log(res)
    }
});
</script>

</body>
</html>